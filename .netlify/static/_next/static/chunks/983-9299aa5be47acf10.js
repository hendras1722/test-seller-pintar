(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{405:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var s=r(5155),a=r(2450),l=r(9375),n=r(9755),c=r(2405),i=r(4805),d=r(2115);let o={xs:0,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},h=e=>{let t=null!=e?e:o,[r,s]=(0,d.useState)(window.innerWidth);(0,d.useEffect)(()=>{let e=()=>{s(window.innerWidth)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]);let a={};return Object.keys(t).forEach(e=>{a[e]=r>=t[e]}),{...a,current:(()=>{for(let[e,s]of Object.entries(t).sort((e,t)=>{let[,r]=e,[,s]=t;return s-r}))if(r>=s)return e;return Object.keys(t)[0]})(),width:r}};var m=r(2296),u=r(6874),g=r.n(u),x=r(5695);function p(e){var t;let{data:r}=e,{md:o}=h({xs:0,sm:640,md:768,lg:1024,xl:1280}),u=(0,i.l)();(0,x.useRouter)();let[p,j]=(0,d.useState)({data:[],total:0,page:0,limit:0}),[f,v]=(0,d.useState)({page:1,limit:10,search:""});async function y(){if(u.searchParams.get("category")||u.searchParams.get("title")||u.searchParams.get("page")){var e,t,s,l,n,c;let r={page:null!=(e=u.searchParams.get("page"))?e:void 0,title:null!=(t=u.searchParams.get("title"))?t:void 0,category:null!=(s=u.searchParams.get("category"))?s:void 0};j(await (0,a.vO)({page:null!=(l=r.page)?l:void 0,title:null!=(n=r.title)?n:void 0,category:null!=(c=r.category)?c:void 0}))}else j(r)}return(0,d.useEffect)(()=>{p.data.length?y():j(r)},[u]),(0,s.jsxs)(d.Fragment,{children:[(0,s.jsxs)(c.If,{condition:o,children:[(0,s.jsx)("div",{className:"rounded mt-8 lg:px-[263px] py-3",children:(0,s.jsxs)(c.If,{condition:p.data.length>0,children:[(0,s.jsx)(l.A,{of:function(e){let t=[],r=0;for(;r<e.length;)if(t.length%2==0){let s=[];e[r]&&s.push(e[r]),t.push(s),r+=1}else{let s=[];e[r]&&s.push(e[r]),e[r+1]&&s.push(e[r+1]),t.push(s),r+=2}return t}(p.data),render:(e,t)=>(0,s.jsx)("div",{className:"mt-5",children:(0,s.jsxs)(c.If,{condition:1===e.length,children:[(0,s.jsxs)(g(),{href:"/article/".concat(e[0].id,"?category=").concat(e[0].category.name),className:"flex gap-3 items-start hover:shadow-lg hover:p-3 rounded-lg cursor-pointer",children:[(0,s.jsx)(c.If,{condition:e[0].imageUrl,children:(0,s.jsx)("img",{src:e[0].imageUrl,className:"rounded",alt:"photo_article",width:500})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"mt-2 font-bold",children:e[0].title}),(0,s.jsx)("p",{className:"text-[16px] mt-3 font-normal",children:e[0].content.replace(/<[^>]+>/g,"").slice(0,200)}),(0,s.jsxs)("div",{className:"mt-5",children:[(0,s.jsx)("h6",{children:e[0].user.username}),(0,s.jsx)("h6",{children:(0,m.GP)(e[0].createdAt,"MMM dd, yyyy")})]})]})]}),(0,s.jsx)("hr",{className:"mt-5"}),(0,s.jsxs)(c._,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 place-items-center grid-rows-1 gap-4 mt-5",children:[(0,s.jsx)(l.A,{of:e,render:(e,t)=>(0,s.jsxs)(g(),{href:"/article/".concat(e.id,"?category=").concat(e.category.name),className:"hover:shadow-lg hover:p-3 rounded-lg cursor-pointer",children:[(0,s.jsx)(c.If,{condition:e.imageUrl,children:(0,s.jsx)("img",{src:e.imageUrl,className:"rounded",width:500,height:300,alt:"photo_article"})}),(0,s.jsx)("h4",{className:"mt-2 font-bold",children:e.title}),(0,s.jsx)("p",{className:"text-[16px] mt-5 font-normal",children:e.content.replace(/<[^>]+>/g,"").slice(0,200)}),(0,s.jsxs)("div",{className:"mt-5",children:[(0,s.jsx)("h6",{children:e.user.username}),(0,s.jsx)("h6",{children:(0,m.GP)(e.createdAt,"MMM dd, yyyy")})]})]},"list"+t)}),(0,s.jsx)("hr",{className:"mt-5"})]}),(0,s.jsx)("hr",{className:"mt-5"})]},"articleelse")]})},t)}),(0,s.jsx)(c._,{children:(0,s.jsx)("div",{className:"grid place-items-center mt-10 p-6 rounded-lg bg-gradient-to-r from-purple-400 to-pink-500 h-[400px]",children:(0,s.jsx)("h1",{className:"text-4xl font-bold text-white",children:"❝Article Not Found❞"})})},"notfound")]})}),(0,s.jsx)(c._,{children:(0,s.jsx)("div",{className:"rounded mt-8 px-4",children:(0,s.jsx)(l.A,{of:r.data,render:(e,t)=>(0,s.jsxs)(g(),{href:"/article/".concat(e.id,"?category=").concat(e.category.name),className:"mt-5 first:mt-0",children:[(0,s.jsx)(c.If,{condition:!!e.imageUrl,children:(0,s.jsx)("img",{src:e.imageUrl,className:"rounded",alt:"photo_article",width:1600})}),(0,s.jsx)("h4",{className:"mt-2 font-bold",children:e.title}),(0,s.jsx)("p",{className:"text-[16px] mt-3 font-normal",children:e.content.replace(/<[^>]+>/g,"").slice(0,200)}),(0,s.jsxs)("div",{className:"mt-5",children:[(0,s.jsx)("h6",{children:e.user.username}),(0,s.jsx)("h6",{children:(0,m.GP)(e.createdAt,"MMM dd, yyyy")})]}),(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)("hr",{})})]},t)})})},"artcile")]}),(0,s.jsx)("div",{className:"mt-5",children:(0,s.jsx)(d.Suspense,{children:(0,s.jsx)(n.A,{page:f.page,setParams:v,pageSize:null!=(t=f.limit)?t:10,totalCount:p.total})})})]})}},1433:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var s=r(5155),a=r(4805),l=r(5695),n=r(9375);function c(e){let{category:t}=e,r=(0,l.useRouter)(),c=(0,a.l)(),i=e=>{let t=new URLSearchParams;e.id&&t.set("category",e.id);let s=c.searchParams.get("q");s&&t.set("q",s);let a="/article"+(t.toString()?"?".concat(t.toString()):"");r.push(a)};return(0,s.jsx)(n.A,{of:t,render:(e,t)=>(0,s.jsx)("li",{onClick:()=>i(e),className:"min-w-auto p-2 text-[12px] text-center border-r border-gray-400 pr-3",children:e.name},t)})}},2450:(e,t,r)=>{"use strict";r.d(t,{vO:()=>n,vV:()=>c});var s=r(7824),a=r(7200),l=r(5819);let n=async e=>await l.HE.get(a.W.GET_ARTICLE,{params:e}),c=async(e,t)=>{let r=(0,s.q)(),{error:a,data:l}=await r("/articles/"+t,{method:"PUT",body:e});return{error:a,data:l}}},4805:(e,t,r)=>{"use strict";r.d(t,{l:()=>l});var s=r(5695),a=r(2115);function l(){let e=(0,s.usePathname)(),t=(0,s.useParams)(),r=(0,s.useSearchParams)(),[l,n]=(0,a.useState)({pathname:e,params:t,searchParams:r});return(0,a.useEffect)(()=>{n({pathname:e,params:t,searchParams:r})},[e,t,r]),l}},5983:(e,t,r)=>{Promise.resolve().then(r.bind(r,6548)),Promise.resolve().then(r.bind(r,405)),Promise.resolve().then(r.bind(r,1433))},6548:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(5155),a=r(2523),l=r(4805),n=r(5695),c=r(2334),i=r(2115);function d(){let e=(0,n.useRouter)(),t=(0,l.l)(),[r,d]=i.useState(""),o=(0,c.sg)({delay:200},async t=>{if(""===t.target.value)return e.push("/article");d(t.target.value)});async function h(s){if("Enter"!==s.key)return;let a=new URLSearchParams,l=t.searchParams.get("category");l&&a.set("category",l),r&&a.set("title",r),(l||r)&&a.set("page","1");let n="/article"+(a.toString()?"?".concat(a.toString()):"");e.push(n)}return(0,s.jsx)(a.p,{onChange:o,onKeyDown:h,placeholder:"Search",className:"lg:w-[30%] w-full "})}}}]);