(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>l});var s=r(5155),o=r(2115),i=r(9708),n=r(2085),a=r(3992);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef((e,t)=>{let{className:r,variant:o,size:n,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,s.jsx)(u,{className:(0,a.cn)(l({variant:o,size:n,className:r})),ref:t,...c})});d.displayName="Button"},770:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var s=r(5155),o=r(221),i=r(5594),n=r(2177),a=r(285),l=r(5937),d=r(2523),c=r(7824),u=r(1068),m=r(5695),f=r(5819);let h=i.z.object({username:i.z.string().min(2,{message:"Username must be at least 2 characters."}),password:i.z.string()});function p(){let e=(0,m.useRouter)(),t=(0,n.mN)({resolver:(0,o.u)(h),defaultValues:{username:"",password:""}});async function r(t){let r=(0,c.q)(),{data:s,error:o}=await r("/auth/login",{method:"POST",body:t});if(!o){await (0,u.me)({variant:"success",title:"Success",description:"Berhasil login",duration:3e3,className:"border border-green-500 !bg-white text-green-800"}),(0,f.O5)(null==s?void 0:s.token),(null==s?void 0:s.role.toLowerCase())==="admin"&&e.push("/admin/category");return}await (0,u.me)({variant:"error",title:"Error",description:null==o?void 0:o.message,duration:3e3,className:"border border-red-500 bg-white text-red-800"})}return(0,s.jsx)("div",{className:"min-h-screen w-full flex items-center justify-center ",children:(0,s.jsxs)("div",{className:"w-[400px] h-fit  border border-gray-100 rounded-2xl flex flex-col items-center dark:shadow-lg dark:shadow-white",children:[(0,s.jsx)("div",{className:" mt-5 pb-5",children:(0,s.jsx)("h2",{children:"Login Seller Pintar"})}),(0,s.jsx)("div",{className:"flex-1 w-full px-8",children:(0,s.jsx)(l.lV,{...t,children:(0,s.jsxs)("form",{onSubmit:t.handleSubmit(r),children:[(0,s.jsx)(l.zB,{control:t.control,name:"username",render:e=>{let{field:t}=e;return(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.lR,{children:"Username"}),(0,s.jsx)(l.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Username",...t})}),(0,s.jsx)(l.C5,{})]})}}),(0,s.jsx)("div",{className:"my-3"}),(0,s.jsx)(l.zB,{control:t.control,name:"password",render:e=>{let{field:t}=e;return(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.lR,{children:"Password"}),(0,s.jsx)(l.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Pasword",...t,type:"password"})}),(0,s.jsx)(l.C5,{})]})}}),(0,s.jsx)(a.$,{color:"green",type:"submit",className:"my-8 w-full ",children:"Submit"})]})})})]})})}},1068:(e,t,r)=>{"use strict";r.d(t,{me:()=>y});var s=r(5155),o=r(2115),i=r(8127),n=r(4371),a=r(1133),l=r(594);let d={success:{icon:i.A,title:"Success!",description:"Your changes have been saved successfully.",className:"border border-green-500 bg-green-50 text-green-800"},error:{icon:n.A,title:"Error!",description:"Something went wrong. Please try again.",className:"border-red-200 bg-red-50 text-red-800"},warning:{icon:a.A,title:"Warning!",description:"Please check your input and try again.",className:"border-yellow-200 bg-yellow-50 text-yellow-800"},info:{icon:l.A,title:"Info",description:"Here is some information for you.",className:"border-blue-200 bg-blue-50 text-blue-800"}};var c=r(2085),u=r(3992);let m=(0,c.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),f=o.forwardRef((e,t)=>{let{className:r,variant:o,...i}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,u.cn)(m({variant:o}),r),...i})});f.displayName="Alert";let h=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,s.jsx)("h5",{ref:t,className:(0,u.cn)("mb-1 font-medium leading-none tracking-tight",r),...o})});h.displayName="AlertTitle";let p=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,s.jsx)("div",{ref:t,className:(0,u.cn)("text-sm [&_p]:leading-relaxed",r),...o})});p.displayName="AlertDescription";var x=r(9688);let g=e=>{let{id:t,variant:r="success",title:i,description:n,duration:a=5e3,onClose:l}=e,[c,u]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!1),v=d[r]||d.success,b=d[r].icon||v.icon;(0,o.useEffect)(()=>{let e=setTimeout(()=>u(!0),10),t=setTimeout(()=>{w()},a);return()=>{clearTimeout(e),clearTimeout(t)}},[a]);let w=()=>{g(!0),setTimeout(()=>{l(t)},300)};return(0,s.jsx)("div",{className:(0,x.QP)(c&&!m?"translate-x-0 opacity-100":"translate-x-full opacity-0","transform transition-all duration-300 ease-in-out mb-3"),children:(0,s.jsxs)(f,{className:(0,x.QP)(v.className,"max-w-sm shadow-lg relative pr-12"),children:[(0,s.jsx)(b,{className:(0,x.QP)("success"===r&&"!text-green-800"||"error"===r&&"!text-red-800"||"warning"===r&&"!text-yellow-800","h-4 w-4 ")}),(0,s.jsx)(h,{className:"ml-2",children:i||v.title}),(0,s.jsx)(p,{className:"ml-2",children:n||v.description}),(0,s.jsx)("button",{onClick:w,className:"absolute top-2 right-2 p-1 rounded-full hover:bg-black hover:bg-opacity-10 transition-colors",children:"x"})]})})},v=()=>{let[e,t]=(0,o.useState)([]);(0,o.useEffect)(()=>(window.__addNotification=e=>{let r=Date.now().toString()+Math.random().toString(36).substr(2,9),s={...e,id:r};return t(e=>[...e,s]),Promise.resolve(s)},window.__removeNotification=e=>{t(t=>t.filter(t=>t.id!==e))},window.__clearNotifications=()=>{t([])},()=>{delete window.__addNotification,delete window.__removeNotification,delete window.__clearNotifications}),[]);let r=e=>{t(t=>t.filter(t=>t.id!==e))};return 0===e.length?null:(0,s.jsx)("div",{className:"fixed top-5 right-5 z-50 max-w-sm",children:e.map(e=>(0,s.jsx)(g,{...e,onClose:r},e.id))})};class b{init(){if(this.isInitialized)return;let e=document.createElement("div");e.id="notification-root",document.body.appendChild(e),Promise.resolve().then(r.t.bind(r,2669,19)).then(t=>{let{createRoot:r}=t;r(e).render(o.createElement(v))}).catch(e=>{console.error("Failed to initialize notification system:",e)}),this.isInitialized=!0}async notify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{variant:t="success",title:r,description:s,duration:o=5e3}=e,i=0;for(;!window.__addNotification&&i<50;)await new Promise(e=>setTimeout(e,10)),i++;if(window.__addNotification)return window.__addNotification({variant:t,title:r,description:s,duration:o});throw Error("Notification system not initialized")}async clear(){window.__clearNotifications&&window.__clearNotifications()}constructor(){this.isInitialized=!1,this.init()}}let w=new b,y=e=>w.notify(e)},2523:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(5155),o=r(2115),i=r(3992);let n=o.forwardRef((e,t)=>{let{className:r,type:o,...n}=e;return(0,s.jsx)("input",{type:o,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},3992:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(2596),o=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.QP)((0,s.$)(t))}},5819:(e,t,r)=>{"use strict";r.d(t,{HE:()=>a,O5:()=>l,Tp:()=>d});var s=r(3464),o=r(7383);s.A.defaults.baseURL="/seller-pintar/api/";let i=async()=>{try{return o.A.get("token")}catch(e){console.error("Error getting token:",e);return}};s.A.interceptors.request.use(async e=>{try{let t=await i();return t?(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t),console.log("Token set in headers:","Bearer ".concat(t.substring(0,10),"..."))):console.log("No token found, proceeding without authorization"),e}catch(t){return console.error("Error in request interceptor:",t),e}},e=>(console.error("Request interceptor error:",e),Promise.reject(e))),s.A.interceptors.response.use(e=>e,e=>{if(!(null==e?void 0:e.response))return Promise.reject(e);let{data:t,status:r}=e.response;switch(r){case 400:console.error("Bad Request:",t);break;case 401:console.error("Unauthorized - Invalid or expired token"),o.A.remove("token");break;case 404:console.error("Not Found:",t);break;case 500:console.error("Server Error:",t);break;default:console.error("HTTP ".concat(r,":"),t)}return Promise.reject(e)});let n=e=>e.data,a={get:(e,t)=>s.A.get(e,t).then(n),post:(e,t)=>s.A.post(e,t).then(n),put:(e,t)=>s.A.put(e,t).then(n),delete:e=>s.A.delete(e).then(n)},l=e=>{o.A.set("token",e,{expires:7,secure:!0,sameSite:"lax"})},d=()=>{o.A.remove("token"),fetch("/api/logout",{method:"POST"})}},5937:(e,t,r)=>{"use strict";r.d(t,{lV:()=>u,MJ:()=>v,zB:()=>f,eI:()=>x,lR:()=>g,C5:()=>b});var s=r(5155),o=r(2115),i=r(9708),n=r(2177),a=r(3992),l=r(3752);let d=(0,r(2085).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,a.cn)(d(),r),...o})});c.displayName=l.b.displayName;let u=n.Op,m=o.createContext({}),f=e=>{let{...t}=e;return(0,s.jsx)(m.Provider,{value:{name:t.name},children:(0,s.jsx)(n.xI,{...t})})},h=()=>{let e=o.useContext(m),t=o.useContext(p),{getFieldState:r,formState:s}=(0,n.xW)(),i=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:a}=t;return{id:a,name:e.name,formItemId:"".concat(a,"-form-item"),formDescriptionId:"".concat(a,"-form-item-description"),formMessageId:"".concat(a,"-form-item-message"),...i}},p=o.createContext({}),x=o.forwardRef((e,t)=>{let{className:r,...i}=e,n=o.useId();return(0,s.jsx)(p.Provider,{value:{id:n},children:(0,s.jsx)("div",{ref:t,className:(0,a.cn)("space-y-2",r),...i})})});x.displayName="FormItem";let g=o.forwardRef((e,t)=>{let{className:r,...o}=e,{error:i,formItemId:n}=h();return(0,s.jsx)(c,{ref:t,className:(0,a.cn)(i&&"text-destructive",r),htmlFor:n,...o})});g.displayName="FormLabel";let v=o.forwardRef((e,t)=>{let{...r}=e,{error:o,formItemId:n,formDescriptionId:a,formMessageId:l}=h();return(0,s.jsx)(i.DX,{ref:t,id:n,"aria-describedby":o?"".concat(a," ").concat(l):"".concat(a),"aria-invalid":!!o,...r})});v.displayName="FormControl",o.forwardRef((e,t)=>{let{className:r,...o}=e,{formDescriptionId:i}=h();return(0,s.jsx)("p",{ref:t,id:i,className:(0,a.cn)("text-[0.8rem] text-muted-foreground",r),...o})}).displayName="FormDescription";let b=o.forwardRef((e,t)=>{let{className:r,children:o,...i}=e,{error:n,formMessageId:l}=h(),d=n?String(null==n?void 0:n.message):o;return d?(0,s.jsx)("p",{ref:t,id:l,className:(0,a.cn)("text-[0.8rem] font-medium text-destructive",r),...i,children:d}):null});b.displayName="FormMessage"},7824:(e,t,r)=>{"use strict";r.d(t,{q:()=>o});var s=r(5819);function o(){return async(e,t)=>{let r=null,o=null,i=!0;try{let o;if(t&&"GET"!==t.method)if("POST"===t.method)o=await s.HE.post(e,t.body);else if("PUT"===t.method)o=await s.HE.put(e,t.body);else if("DELETE"===t.method)o=await s.HE.delete(e);else throw Error("Unsupported method: ".concat(t.method));else o=await s.HE.get(e);r=o}catch(e){e instanceof Error&&(o=e),r=null}finally{i=!1}return{data:r,error:o,pending:i}}}},9920:(e,t,r)=>{Promise.resolve().then(r.bind(r,770))}},e=>{var t=t=>e(e.s=t);e.O(0,[625,136,441,684,358],()=>t(9920)),_N_E=e.O()}]);